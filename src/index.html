<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Welcome to Glitch!</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A cool thing made with Glitch" />
  <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dygraph/2.1.0/dygraph.min.css" />
  <link rel="stylesheet" href="/src/style.css" />
  
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dygraph/2.1.0/dygraph.min.js"></script>
</head>
<body>
  <header>
    <h1>Team 8's Epic plant sensor</h1>
  </header>

  <main>
    <h2>Here is the data you can display:</h2>
    <button id="data">Data button</button>
    <button id="myButton">Add Sensor</button>
      
    <div id="inputFieldContainer" style="display: none">
      <h3>Enter sensor name:</h3>
      <input type="text" id="sensor" name="sensor" />
      <button id="submitSensor" type="submit">Add</button>
    </div>

    <div id="graphdiv" style="display: none; width: 100%; height: 500px"></div>

    <script>
      document.getElementById('myButton').addEventListener('click', function () {
        document.getElementById('inputFieldContainer').style.display = 'block'; 
      });
    
      document.getElementById('submitSensor').addEventListener('click', function () {
        const sensorName = document.getElementById('sensor').value;
        // socket.emit('sensorName', sensorName);
        document.getElementById('inputFieldContainer').style.display = 'none'; 
        document.getElementById('graphdiv').style.display = 'block'; 
    
        new Dygraph(
          document.getElementById('graphdiv'), 
          "Date,Temperature\n" + 
          "2008-05-07,75\n" +
          "2008-05-08,70\n" +
          "2008-05-09,80\n",
          {
            labels: ["Date", "Temperature"], 
          }
        );
      });
    </script>
  </main>
</body>
</html>
